# disambiguator
[текст](http://hseinstruments.wikispaces.com/file/view/grant_lundberg.zip/459862652/grant_lundberg.zip)

[программа для дизамбигуации](https://yadi.sk/d/1cXQSm1q3PUNpJ), [программа с модулем разметки](https://yadi.sk/d/J4r60xFs5nJ2g)

# Морфологическая разметка и дизамбигуация текстов

## Уровни разметки (аннотации) текста:

* токенизация (выделение словоформ, знаков препинания и других графических элементов)
* __морфологическая разметка (part-of-speech/POS annotation)__
    * определение части речи (part-of-speech/POS annotation)
    * лемматизация (определение леммы)
    * грамматический разбор словоформ
* разметка лексико-семантических классов (разрядов), названий организаций, персон и т.п.
* словообразовательная разметка
* синтаксическая разметка
* + более глубокие уровни аннотации (например, анафора - к какому элементу отсылают местоимения он, его и т.п.)

Для разных языков объем аннотации может различаться, для русского важна __морфологическая разметка__, для английского - синтаксис.

## Стандарты разметки: примеры

C5 tagset (British National Corpus) -- набор тегов

    Perdita&NN1-NP0; ,&PUN; covering&VVG; the&AT0; bottom&NN1; of&PRF; the&AT0; lorries&NN2; with&PRP; straw&NN1; to&TO0;
    protect&VVI; the&AT0; ponies&NN2; '&POS; feet&NN2; ,&PUN; suddenly&AV0; heard&VVD-VVN; Alejandro&NN1-NP0;
    shouting&VVG; that&CJT; she&PNP; better&AV0; dig&VVB; out&AVP; a&AT0; pair&NN0; of&PRF; clean&AJ0; breeches&NN2;
    and&CJC; polish&VVB; her&DPS; boots&NN2; ,&PUN; as*CJS; she&PNP; 'd&VM0; be&VBI; playing&VVG; in&PRP; the&AT0;
    match&NN1; that&DT0; afternoon&NN1; .&PUN;

Стандарт НКРЯ

    <w><ana lex="по" gr="PR"/>По</w>
    <w><ana lex="сад" gr="S m inan sg at"/>с`аду</w>
    <w><ana lex="можно” gr="PRAEDIC"/> м`ожно</w>
    <w><ana lex="гулять" gr="V ipf intr act inf act"/>гул`ять</w>
    <w><ana lex="час" gr="S m inan pl ins"/>час`ами</w>

Стандарт Тюбингенского корпуса русского языка

    шофер/substantiv_masc_sg_nom_bel бегал/verb_finit_prt_0_sg_masc_nref_ipf
    куда-то/adverb
    ремонтировать/verb_infinitiv_nref_ipf тягу/substantiv_fem_sg_akk_unb
    ,/satzzeichen_komma
    а/konj_koor
    чекист/substantiv_masc_sg_nom_bel

Позиционный стандарт MULTEXT для русского языка

    языкознанию/языкознание_Ncnsdn
    (Noun Type=common Gender=neuter Number=singular Case=dative Animate=no)
    
    щадящему/щадить_Vm-p-snafpd
    (Verb Type=main Tense=present Number=singular Gender=neuter Voice=active Definiteness=full-art Aspect=progressive Case=dative)


Формат XML (XHTML), в котором хранятся оффлайн-версии многих корпусов мира (см. стандарт НКРЯ) - новое поколение HTML-подобной разметки, где названия и атрибуты тегов задаются пользователями. (В HTML этот список строго ограничен стандартом и касается, прежде всего, форматирования текста).
В HTML и XML используются специальные обозначения для нестандартных знаков, например, ́ для обозначения комбинированного знака ударения "акут" (как в á).

# Практикум по снятию лексико-грамматической омонимии

__Задание:__ снять омонимию в файле с морфологической разметкой в системе brat.

__Инструкции по работе с brat__: см. [Снятие омонимии в системе brat](https://github.com/ElizavetaKuzmenko/Programming-and-computer-instruments/wiki/%D0%A1%D0%BD%D1%8F%D1%82%D0%B8%D0%B5-%D0%BE%D0%BC%D0%BE%D0%BD%D0%B8%D0%BC%D0%B8%D0%B8-%D0%B2-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5-brat)

__Список тегов:__ 
На сайте ruscorpora.ru во вкладке [Морфология](http://ruscorpora.ru/corpora-morph.html) приведены списки всех помет, которые используются в грамматических разборах (морфологический стандарт НКРЯ).

## Как выбирать разборы
1. Разбор имеет формат вида lex="..." gr=".....", где в поле lex указана лемма (начальная форма), а в поле gr - часть речи (на первом месте) и другие грамматические характеристики (в произвольном порядке). Обозначения в поле gr можно посмотреть в справке Морфология НКРЯ.

1. Что придется добавить (машина сама не делает):<br>
разборы для инициалов (например, lex="С" gr="INIT,abbr"<br>
разборы для несловарных слов (если машина не построила правильную гипотезу)<br>
Пометьте новый разбор знаком ! после леммы (lex="отойти!"), в поле gr запишите часть речи и все требуемые грамматические признаки (по образцу других слов).<br>
Что придется поправить:<br>
разборы для имен собственных - лемму записать с Прописной буквы (например, lex="Москва")

1. Предикатив или наречие? Предикатив (=категория состояния) встречается в конструкции с инфинитивом и именами в дат. падеже (мне холодно здесь сидеть), а также в изолированном употреблении, когда человек дает оценку ситуации или предмету (Прекрасно!). Наречие "определяет" глагол, прилагательное или другое наречие (холодно посмотрел).

1. Союз или местоимение(=союзное слово)? Местоимение занимает позицию определенного члена предложения (подлежащего, дополнения и т.д.) и часто несет ударение (Вы слышали, что он сказал?). Союз связывает предложения (Он услышал, что мама вызвала такси).

1. Золотое правило - если не знаете, что выбрать, оставьте все разборы на месте и переходите к следующему омониму.

1. Дефисы. Слово с дефисом считается одним словом, если оно целиком значит не то же самое, что его часть (штабс-капитан != капитан, Москва-река != Москва, бело-голубой != голубой). Неопределенные местоимения (на -то, -либо, -нибудь, кое-) составляют одно слово. Двумя словами считаются: слово с приложением-характеристикой (Мишка-тракторист), а также частицы -то, -ка, -с (я-то, иди-ка, конечно-с)<br>
Иногда компьютер правильно разбирает слово с дефисом, но разбор приписан только к первой части (ср. лемма какой-то). В этом случае разборы второй части (-то) нужно оставить как есть, они будут удалены автоматически.<br>
Если разбор программы (лемма с дефисом/ лемма как два, три и т.д. отдельных слова) не совпадает с тем, который вам кажется правильным, припишите правильный разбор.


1. Помните, что среди однозначных разборов могут попадаться неправильные, сгенерированные машиной для несловарных слов.

1. Что делать с искаженными формами?<br>
Если вы правильно обработали искаженные формы на предыдущем этапе, заключив их в тег distinct и приписав "нормальную" форму следующим образом:<br>
    `<distinct form="нееееет">нет</distinct>`<br>
то автоматический разметчик предлагает только теги для нормальной формы "нет".<br>
Однако, если вы забыли обработать искажение, то будут предложены самые причудливые разборы для искаженной формы.<br>
Выберите и отредактируйте разбор так, чтобы у него была "нормальная" лемма, после разбора поставьте звездочку следующим образом:<br> lex="нет" gr="PART=*"<br>

1. В конце работы просмотрите каждое слово и проверьте, что все разборы (особенно часть речи, падеж, род, одушевленность) правильные. Может так случиться, что словоформе может быть приписан единственный, но неверный тег -- отредактируйте его.
По статистике, неопытные разметчики делают от 5% до 15% ошибок в разборах, будьте внимательны.
